(()=>{customElements.define("joomla-callout",class extends HTMLElement{static get observedAttributes(){return["for","dismiss"]}get for(){return this.getAttribute("for")}set for(t){return this.setAttribute("for",t)}get dismiss(){return this.getAttribute("dismiss")}connectedCallback(){this.setAttribute("aria-labelledby",this.for.substring(1));const t=document.querySelector(this.for),e=this.querySelectorAll("a");t.id&&(this.hasAttribute("dismiss")&&this.appendCloseButton(),t.setAttribute("aria-haspopup",!0),t.setAttribute("aria-expanded",!1),t.addEventListener("click",s=>{this.hasAttribute("expanded")?(this.removeAttribute("expanded"),s.target.setAttribute("aria-expanded",!1)):(this.setAttribute("expanded",""),s.target.setAttribute("aria-expanded",!0)),document.addEventListener("click",e=>{e.target!==t&&e.target!==this&&(this.findAncestor(e.target,"joomla-callout")||this.close())}),e.forEach(t=>{t.addEventListener("click",()=>{this.close()})})}))}dispatchCustomEvent(t){const e=new CustomEvent(t);e.relatedTarget=this,this.dispatchEvent(e),this.removeEventListener(t,this)}adoptedCallback(t,e){}close(){const t=document.querySelector(`#${this.getAttribute("aria-labelledby")}`);this.removeAttribute("expanded"),t.setAttribute("aria-expanded",!1)}appendCloseButton(){const t=this,e=document.createElement("button");this.hasAttribute("dismiss")&&(e.classList.add("joomla-callout--close"),e.innerHTML='<span aria-hidden="true">&times;</span>',e.setAttribute("aria-label",this.getText("JCLOSE","Close"))),this.firstChild?this.insertBefore(e,this.firstChild):this.appendChild(e),e&&e.addEventListener("click",()=>{t.dispatchCustomEvent("joomla.alert.buttonClicked"),t.close()})}findAncestor(t,e){for(;(t=t.parentElement)&&t.nodeName.toLowerCase()!==e;);return t}getText(t,e){return window.Joomla&&Joomla.JText&&Joomla.JText._&&"function"==typeof Joomla.JText._&&Joomla.JText._(t)?Joomla.JText._(t):e}})})();